(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,a,t){e.exports=t(60)},33:function(e,a,t){},34:function(e,a,t){},55:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(22),l=t.n(c),u=(t(33),t(34),t(12)),o=t(6),i=t.n(o),m=t(11),s=t(3),p=t(23),f=t.n(p).a.initializeApp({apiKey:"AIzaSyAyIdR5rJ6p-JX5BVMeoksBURFgAs5mD5U",authDomain:"pool-party-app.firebaseapp.com",databaseURL:"https://pool-party-app.firebaseio.com",projectId:"pool-party-app",storageBucket:"pool-party-app.appspot.com",messagingSenderId:"875916367186",appId:"1:875916367186:web:71a4c5d40ff62bda"}),d=function(){return f.database().ref("players").once("value").then(function(e){return e.val()})},v=function(e){return f.database().ref("players/".concat(e)).once("value").then(function(e){return e.val()})},E=function(e){var a=e.name,t=f.database().ref("players/").push();return t.set({id:t.key,name:a})},y=t(17),b=t.n(y),h=function(e){return Object.keys(e).map(function(a){return e[a]})},g=function(e,a){return e.filter(function(e){return e.player1Id===a||e.player2Id===a})},O=function(e,a){var t=[];return g(a,e.id).forEach(function(a){var n=function(e,a){return a.player1Id===e.id?a.player2Id:a.player1Id}(e,a);t.indexOf(n)<0&&t.push(n)}),t},j=t(5);var I=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),u=Object(s.a)(l,2),o=u[0],p=u[1],f=function(){var e=Object(m.a)(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:a=e.sent,c(h(a));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){f()},[]),r.a.createElement("div",{className:"Players"},r.a.createElement("h1",null,"Players"),r.a.createElement("input",{name:"name",value:o,onChange:function(e){p(e.currentTarget.value)},placeholder:"Player name"}),r.a.createElement("button",{onClick:function(){E({name:o}).then(function(){f()}),p("")},disabled:o.length<1},"Add Player"),r.a.createElement("ul",null,t.map(function(e){var a=e.id,t=e.name;return r.a.createElement("li",{key:a},r.a.createElement(j.b,{to:"/players/".concat(a)},t))})))};var S=function(){return r.a.createElement("h1",null,"Home")},w=t(26),k=function(e){return f.database().ref("games").limitToLast(e).once("value").then(function(e){return e.val()})};var P=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)(function(){v(e).then(function(e){c(e.name)})},[e]),r},x=function(e){var a=e.id,t=P(a);return r.a.createElement(j.b,{to:"/players/".concat(a)},t)},N=(t(55),function(e){var a=e.onAddGame,t=Object(n.useState)([]),c=Object(s.a)(t,2),l=c[0],u=c[1],o=Object(n.useState)("Player 1"),p=Object(s.a)(o,2),v=p[0],E=p[1],y=Object(n.useState)("Player 2"),b=Object(s.a)(y,2),g=b[0],O=b[1],j=Object(n.useState)(void 0),I=Object(s.a)(j,2),S=I[0],k=I[1],P=Object(n.useState)(void 0),x=Object(s.a)(P,2),N=x[0],G=x[1],A=function(){var e=Object(m.a)(i.a.mark(function e(){var a,t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:a=e.sent,t=h(a).sort(function(e,a){return e.name<a.name?-1:e.name>a.name?1:0}),u(t);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){A()},[]);var C="Player 1"!==v&&"Player 2"!==g?r.a.createElement("button",{className:"AddGame",onClick:function(){S&&N&&(function(e){var a=e.player1Id,t=e.player2Id,n=e.player1Score,r=e.player2Score,c=e.winnerId,l=f.database().ref("games/").push();l.set({time:w.database.ServerValue.TIMESTAMP,id:l.key,player1Id:a,player2Id:t,player1Score:n,player2Score:r,winnerId:c})}({player1Id:v,player2Id:g,player1Score:S,player2Score:N,winnerId:S>N?v:g}),k(0),G(0),E("Player 1"),O("Player 2"),a())}},"Add Game"):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add Game"),r.a.createElement("div",{className:"Forms"},r.a.createElement("div",null,r.a.createElement("h4",null,"Player 1"),r.a.createElement("form",null,r.a.createElement("select",{onChange:function(e){E(e.currentTarget.value)},value:v},r.a.createElement("option",{value:"Player 1",disabled:!0},"Select a player"),l.map(function(e){var a=e.id,t=e.name;return r.a.createElement("option",{key:a,value:a},t)})),r.a.createElement("label",null,"Score",r.a.createElement("input",{type:"number",value:S,max:17,min:0,onChange:function(e){return k(Number(e.currentTarget.value))}})))),r.a.createElement("div",null,r.a.createElement("h4",null,"Player 2"),r.a.createElement("form",null,r.a.createElement("select",{onChange:function(e){O(e.currentTarget.value)},value:g},r.a.createElement("option",{value:"Player 2",disabled:!0},"Select a player"),l.map(function(e){var a=e.id,t=e.name;return v!==a?r.a.createElement("option",{key:a,value:a},t):null})),r.a.createElement("label",null,"Score",r.a.createElement("input",{type:"number",value:N,max:17,min:0,onChange:function(e){return G(Number(e.currentTarget.value))}}))))),C)}),G=(t(56),function(e){var a=e.date;return r.a.createElement("span",{style:{color:"lightslategray",fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.1px"}},function(e){var a=new Date(e);return b()(a).startOf().fromNow()}(a))});var A=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1];Object(n.useEffect)(function(){l()},[]);var l=function(){var e=Object(m.a)(i.a.mark(function e(){var a,t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(12);case 2:a=e.sent,t=h(a).reverse(),c(h(t));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"Games"},r.a.createElement("h1",null,"Games"),r.a.createElement(N,{onAddGame:l}),r.a.createElement("h2",null,"History"),r.a.createElement("ul",null,t.map(function(e){return r.a.createElement("li",{className:"Game"},r.a.createElement(j.b,{to:"/games/".concat(e.id)},r.a.createElement(G,{date:e.time})),r.a.createElement("div",null,r.a.createElement(x,{id:e.player1Id})," ",r.a.createElement("strong",null,e.player1Score)," vs"," ",r.a.createElement("strong",null,e.player2Score)," ",r.a.createElement(x,{id:e.player2Id})),r.a.createElement("div",null,"Winner:"," ",r.a.createElement("strong",null,r.a.createElement(x,{id:e.winnerId}))))})))},C=(t(57),function(e){var a=e.player1Id,t=e.player2Id,n=e.games,c=function(e,a,t){return t.filter(function(t){return t.player1Id===e&&t.player2Id===a||t.player1Id===a&&t.player2Id===e})}(a,t,n),l=c.filter(function(e){return e.winnerId===a});return r.a.createElement("span",null,Math.round(l.length/c.length*100),"% (",c.length,")")}),T=function(e){var a=e.match,t=Object(n.useState)({id:"",name:""}),c=Object(s.a)(t,2),l=c[0],u=c[1],o=Object(n.useState)([]),p=Object(s.a)(o,2),d=p[0],E=p[1],y=Object(n.useState)([]),b=Object(s.a)(y,2),I=b[0],S=b[1],w=a.params.id,k=function(){var e=Object(m.a)(i.a.mark(function e(){var a,t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.database().ref("games").once("value").then(function(e){return e.val()});case 2:a=e.sent,t=h(a||[]).reverse(),E(t);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(i.a.mark(function e(a,t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(a,t);case 2:n=e.sent,S(h(n));case 4:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){k(),v(w).then(function(e){u(e),P(e,d)})},[w,d]);var N=g(d,w);return r.a.createElement("div",{className:"PlayerProfile"},r.a.createElement("h1",null,l.name),r.a.createElement("h2",null,"Win Rates"),r.a.createElement("div",null,I.map(function(e){return r.a.createElement("div",{className:"opponent"},r.a.createElement(x,{id:e})," - ",r.a.createElement(C,{player1Id:w,player2Id:e,games:d}))})),r.a.createElement("h2",null,"Games Played"),r.a.createElement("div",{className:"PlayerGames"},N.map(function(e){return r.a.createElement("div",{className:"PlayerGame",key:e.id},r.a.createElement(j.b,{to:"/games/".concat(e.id)},r.a.createElement(G,{date:e.time})),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"opponent"},"Opponent:"," ",e.player1Id===w?r.a.createElement(x,{id:e.player2Id}):r.a.createElement(x,{id:e.player1Id})),r.a.createElement("div",{className:"score"},e.winnerId===w?"\u2705":"\u274c",e.player1Score," - ",e.player2Score)))})))},M=(t(58),function(e){var a=e.match,t=e.history,c=a.params.id,l=Object(n.useState)(),u=Object(s.a)(l,2),o=u[0],i=u[1];if(Object(n.useEffect)(function(){var e;(e=c,f.database().ref("games/".concat(e)).once("value").then(function(e){return e.val()})).then(function(e){i(e)})},[c]),!o)return null;var m=function(e){window.confirm("Delete Game?")&&function(e){return f.database().ref("games/".concat(e)).remove()}(e).then(function(){t.push("/games")})};return r.a.createElement("div",{className:"Game"},r.a.createElement("h1",null,"Game"),r.a.createElement("h4",{style:{marginBottom:10}},function(e){var a=new Date(e);return b()(a).format("MMMM Do, YYYY - h:mm a")}(o.time)),r.a.createElement("div",{style:{marginBottom:20}},r.a.createElement("span",{className:"remove",onClick:function(){return m(o.id)}},"Delete Game")),r.a.createElement(x,{id:o.player1Id}),r.a.createElement("h1",null,o.player1Score),r.a.createElement(x,{id:o.player2Id}),r.a.createElement("h1",null,o.player2Score))});var B=function(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:S}),r.a.createElement(u.b,{exact:!0,path:"/players",component:I}),r.a.createElement(u.b,{path:"/players/:id",component:T}),r.a.createElement(u.b,{exact:!0,path:"/games",component:A}),r.a.createElement(u.b,{path:"/games/:id",component:M}),r.a.createElement(u.a,{to:"/"}))};t(59);var D=function(){return r.a.createElement("nav",{className:"Nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(j.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(j.b,{to:"/games"},"Games")),r.a.createElement("li",null,r.a.createElement(j.b,{to:"/players"},"Players"))))};var J=function(){return r.a.createElement(j.a,{basename:"/pool-party"},r.a.createElement("div",{className:"App"},r.a.createElement(D,null),r.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.db80c858.chunk.js.map