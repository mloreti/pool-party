{"version":3,"sources":["data/types/state.ts","lib/firebase/index.js","api/players.ts","components/Players/Players.tsx","api/utils.ts","data/actions/players.ts","components/Players/PlayersContainer.ts","components/Home/Home.tsx","components/PlayerName/usePlayerName.ts","components/PlayerName/PlayerName.tsx","api/games.ts","components/GameForm/GameForm.tsx","data/actions/games.ts","components/GameForm/GameFormContainer.ts","components/DateText/DateText.tsx","components/Games/Games.tsx","data/selectors/games.ts","components/Games/GamesContainer.ts","components/WinRate/WinRate.tsx","components/PlayerProfile/PlayerProfile.tsx","components/Game/Game.tsx","components/Routes/Routes.tsx","components/Header/Header.tsx","data/reducers/games.ts","data/reducers/players.ts","data/reducers/index.ts","App.tsx","data/store/configureStore.ts","serviceWorker.js","index.js"],"names":["STATUS","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getPlayerById","id","database","ref","concat","once","then","snapshot","val","Players","_ref","status","players","fetchAllPlayers","_useState","useState","_useState2","Object","slicedToArray","input","setInput","NOT_REQUESTED","react_default","a","createElement","className","name","value","onChange","event","currentTarget","placeholder","onClick","push","set","key","addPlayer","disabled","length","map","_ref2","react_router_dom","to","arrayFromObject","obj","keys","gamesByPlayerId","games","filter","game","player1Id","player2Id","playersPlayerPlayed","player","allGames","uniqueOpponentIds","forEach","opponentId","opponentForGame","indexOf","dispatch","receiveAllPlayers","PLAYERS_RECEIVE_ALL","type","payload","connect","state","byId","Home","usePlayerName","setName","useEffect","PlayerName","getAllGames","GameForm","onAddGame","player1","setPlayer1","_useState3","_useState4","player2","setPlayer2","_useState5","_useState6","player1Score","setPlayer1Score","_useState7","_useState8","player2Score","setPlayer2Score","button","winnerId","time","ServerValue","TIMESTAMP","addGame","Fragment","e","max","min","Number","_ref3","fetchAllGames","receiveAllGames","GAMES_RECEIVE_ALL","GAMES_RECEIVE_N_GAMES","DateText","date","style","color","fontSize","textTransform","letterSpacing","Date","moment","startOf","fromNow","timeFromNow","GamesPage","props","GameFormContainer","components_DateText_DateText","components_PlayerName_PlayerName","last12Games","n","slice","reverse","Games","WinRate","gamesBetweenTwoPlayers","gamesBetweenPlayers","player1Wins","Math","round","PlayerProfile","match","info","setInfo","allGamesPlayed","setAllGamesPlayed","playersPlayed","setPlayersPlayed","userId","params","asyncToGenerator","regenerator_default","mark","_callee","response","sortedGames","wrap","_context","prev","next","sent","stop","apply","this","arguments","fetchAllOpponents","_callee2","opponentIds","_context2","_x","_x2","gamesPlayed","components_WinRate_WinRate","GamePage","history","gameId","setGame","removeGame","window","confirm","remove","deleteGame","marginBottom","format","dateFormat","Routes","react_router","exact","path","component","Game","Header","defaultState","GamesReducer","undefined","action","objectSpread","FULFILLED","PlayersReducer","rootReducer","combineReducers","store","preloadedState","createStore","composeWithDevTools","applyMiddleware","thunk","configureStore","App","es","basename","process","components_Header_Header","Routes_Routes","Boolean","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.39faa730.chunk.js","sourcesContent":["import { Games, Players } from \"../../api/types\";\n\nexport enum STATUS {\n  NOT_REQUESTED = 'NOT_REQUESTED',\n  PENDING = 'PENDING',\n  FULFILLED = 'FULFILLED',\n}\n\nexport interface State {\n  games: {\n    byId: Games,\n    status: STATUS,\n  },\n  players: {\n    byId: Players,\n    status: STATUS,\n  },\n}","import firebase from 'firebase/app';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAyIdR5rJ6p-JX5BVMeoksBURFgAs5mD5U\",\n  authDomain: \"pool-party-app.firebaseapp.com\",\n  databaseURL: \"https://pool-party-app.firebaseio.com\",\n  projectId: \"pool-party-app\",\n  storageBucket: \"pool-party-app.appspot.com\",\n  messagingSenderId: \"875916367186\",\n  appId: \"1:875916367186:web:71a4c5d40ff62bda\"\n};\n\nexport default firebase.initializeApp(firebaseConfig);","import firebase from '../lib/firebase';\n\nexport const getAllPlayers = () => {\n  return firebase\n    .database()\n    .ref('players')\n    .once('value')\n    .then(snapshot => snapshot.val());\n}\n\nexport const getPlayerById = (id: string) => {\n  return firebase\n    .database()\n    .ref(`players/${id}`)\n    .once('value')\n    .then(snapshot => snapshot.val());\n}\n\ntype AddPlayer = (playerInfo: {name: string}) => Promise<any>;\nexport const addPlayer: AddPlayer = ({ name }) => {\n  const ref = firebase\n    .database()\n    .ref('players/')\n    .push();\n\n  return ref.set({\n    id: ref.key,\n    name,\n  });\n}","import React, { useState, FC } from \"react\";\n\nimport { addPlayer } from \"../../api/players\";\nimport { Player } from \"../../api/types\";\nimport { Link } from \"react-router-dom\";\nimport { STATUS } from \"../../data/types/state\";\n\nexport interface StateProps{\n  readonly players: Player[];\n  readonly status: STATUS;\n}\n\nexport interface DispatchProps {\n  fetchAllPlayers(): void;\n}\n\nexport type PlayersProps = StateProps & DispatchProps;\n\nconst Players: FC<PlayersProps> = ({ status, players, fetchAllPlayers}) => {\n  const [input, setInput] = useState(\"\");\n\n  if (status === STATUS.NOT_REQUESTED) {\n    fetchAllPlayers();\n  }\n\n\n  const onInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setInput(event.currentTarget.value);\n  };\n\n  const submit = () => {\n    addPlayer({ name: input }).then(() => {\n      fetchAllPlayers();\n    });\n    setInput(\"\");\n  };\n\n  return (\n    <div className=\"Players\">\n      <h1>Players</h1>\n      <input\n        name=\"name\"\n        value={input}\n        onChange={onInputChange}\n        placeholder=\"Player name\"\n      />\n      <button onClick={submit} disabled={input.length < 1}>Add Player</button>\n      <ul>\n        {players.map(({id, name}) => (\n          <li key={id}>\n            <Link to={`/players/${id}`}>{name}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Players;\n","import { Game, Player } from \"./types\";\nimport moment from 'moment';\n\ninterface Obj {\n  [key: string]: any;\n}\n\nexport const arrayFromObject = (obj: Obj) =>\n  Object.keys(obj).map(key => obj[key]);\n\ntype GamesByPlayerId = (games: Game[], id: Player[\"id\"]) => Game[];\nexport const gamesByPlayerId: GamesByPlayerId = (games, id) =>\n  games.filter(game => game.player1Id === id || game.player2Id === id);\n\ntype GamesBetweenPlayers = (player1Id: Player['id'], player2Id: Player['id'], games: Game[]) => Game[];\nexport const gamesBetweenPlayers: GamesBetweenPlayers = (player1Id, player2Id, games) =>\n  games.filter(game => (\n    (game.player1Id === player1Id && game.player2Id === player2Id)\n    || \n    (game.player1Id === player2Id && game.player2Id === player1Id)\n  ));\n\ntype OpponentForGame = (player: Player, game: Game) => Player['id'];\nexport const opponentForGame: OpponentForGame = (player, game) => \n  (game.player1Id === player.id ? game.player2Id : game.player1Id);\n\ntype PlayersPlayerPlayed = (player: Player, allGames: Game[]) => Player['id'][];\nexport const playersPlayerPlayed: PlayersPlayerPlayed = (player, allGames) => {\n  const uniqueOpponentIds: Player['id'][] = [];\n  const gamesPlayerPlayed = gamesByPlayerId(allGames, player.id);\n\n  gamesPlayerPlayed.forEach(game => {\n    const opponentId = opponentForGame(player, game);\n    if (uniqueOpponentIds.indexOf(opponentId) < 0) {\n      uniqueOpponentIds.push(opponentId);\n    }\n  });\n\n  return uniqueOpponentIds;\n};\n\nexport const timeFromNow = (time: string) => {\n  const date = new Date(time);\n  const momentFormat = moment(date);\n\n  return momentFormat.startOf().fromNow();\n}\n\nexport const dateFormat = (time: string) => {\n  const date = new Date(time);\n  const momentFormat = moment(date).format('MMMM Do, YYYY - h:mm a');\n\n  return momentFormat;\n}","import { Dispatch } from \"redux\";\nimport { getAllPlayers } from \"../../api/players\";\nimport { Players } from \"../../api/types\";\n\nexport const fetchAllPlayers = () => (dispatch: Dispatch) => {\n  getAllPlayers().then(players => {\n    dispatch(receiveAllPlayers(players));\n  })\n}\n\nexport const PLAYERS_RECEIVE_ALL = 'PLAYERS.RECEIVE_ALL'\n\nexport const receiveAllPlayers = (players: Players) => ({\n  type: PLAYERS_RECEIVE_ALL,\n  payload: players,\n})","import { connect } from \"react-redux\";\n\nimport Players, { StateProps, DispatchProps } from \"./Players\";\nimport { State } from \"../../data/types/state\";\nimport { arrayFromObject } from \"../../api/utils\";\nimport { fetchAllPlayers } from \"../../data/actions/players\";\n\nexport const mapStateToProps = (state: State): StateProps => ({\n  players: arrayFromObject(state.players.byId),\n  status: state.players.status,\n});\n\nexport const mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  fetchAllPlayers: () => dispatch(fetchAllPlayers())\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Players);\n","import React from 'react';\n\nfunction Home() {\n  return <h1>Home</h1>\n}\n\nexport default Home;","import { useState, useEffect } from \"react\";\nimport { getPlayerById } from \"../../api/players\";\n\n\nfunction usePlayerName(id: string) {\n  const [name, setName] = useState('');\n\n  useEffect(() => {\n    getPlayerById(id).then(player => {\n      setName(player.name);\n    })\n  }, [id])\n\n  return name\n}\n\nexport default usePlayerName;\n","import React, { FC } from 'react';\nimport usePlayerName from './usePlayerName';\nimport { Link } from 'react-router-dom';\n\nexport interface PlayerNameProps {\n  readonly id: string;\n}\n\nconst PlayerName: FC<PlayerNameProps> = ({ id }) => {\n  const name = usePlayerName(id);\n\n  return  <Link to={`/players/${id}`}>{name}</Link>;\n}\n\nexport default PlayerName;","import { database } from 'firebase';\nimport firebase from \"../lib/firebase\";\nimport { Game } from \"./types\";\nimport { Omit } from \"yargs\";\n\nexport const getAllGames = () => {\n  return firebase\n    .database()\n    .ref(\"games\")\n    .once(\"value\")\n    .then(snapshot => snapshot.val());\n};\n\nexport const getLastNGames = (n: number) => {\n  return firebase\n    .database()\n    .ref(\"games\")\n    .limitToLast(n)\n    .once(\"value\")\n    .then(snapshot => snapshot.val());\n};\n\nexport const getGameById = (id: string) => {\n  return firebase\n    .database()\n    .ref(`games/${id}`)\n    .once(\"value\")\n    .then(snapshot => snapshot.val());\n};\n\nexport type AddGame = (game: Omit<Game, 'id' | 'time'>) => Promise<any>;\nexport const addGame: AddGame = ({\n  player1Id,\n  player2Id,\n  player1Score,\n  player2Score,\n  winnerId\n}) => {\n  const ref = firebase\n    .database()\n    .ref(\"games/\")\n    .push();\n\n  return ref.set({\n    time: database.ServerValue.TIMESTAMP,\n    id: ref.key,\n    player1Id,\n    player2Id,\n    player1Score,\n    player2Score,\n    winnerId\n  });\n};\n\nexport const deleteGame = (gameId: string) => {\n  const ref = firebase.database().ref(`games/${gameId}`);\n  \n  return ref.remove();\n}\n","import React, { useState, FC } from \"react\";\nimport { addGame } from \"../../api/games\";\nimport { Player } from \"../../api/types\";\n\nimport \"./GameForm.css\";\nimport { STATUS } from \"../../data/types/state\";\n\nexport interface DispatchProps {\n  onAddGame(): void;\n  fetchAllPlayers(): void;\n}\n\nexport interface StateProps {\n  readonly players: Player[];\n  readonly status: STATUS;\n}\n\nexport type GameFormProps = DispatchProps & StateProps;\n\nconst GameForm: FC<GameFormProps> = ({ fetchAllPlayers, onAddGame, status, players }) => {\n  const [player1, setPlayer1] = useState(\"Player 1\");\n  const [player2, setPlayer2] = useState(\"Player 2\");\n  const [player1Score, setPlayer1Score] = useState<number>(0);\n  const [player2Score, setPlayer2Score] = useState<number>(0);\n\n  if (status === STATUS.NOT_REQUESTED) {\n    fetchAllPlayers();\n  }\n\n  const onSelect = (e: React.SyntheticEvent<HTMLSelectElement, Event>) => {\n    setPlayer1(e.currentTarget.value);\n  };\n\n  const onSelectPlayer2 = (\n    e: React.SyntheticEvent<HTMLSelectElement, Event>\n  ) => {\n    setPlayer2(e.currentTarget.value);\n  };\n\n  const onSubmitGame = () => {\n    if (!!player1Score && !!player2Score) {\n      const winnerId = player1Score > player2Score ? player1 : player2;\n\n      addGame({\n        player1Id: player1,\n        player2Id: player2,\n        player1Score,\n        player2Score,\n        winnerId\n      });\n\n      setPlayer1Score(0);\n      setPlayer2Score(0);\n      setPlayer1(\"Player 1\");\n      setPlayer2(\"Player 2\");\n\n      onAddGame();\n    }\n  };\n\n  const button =\n    player1 !== \"Player 1\" && player2 !== \"Player 2\" ? (\n      <button className=\"AddGame\" onClick={onSubmitGame}>\n        Add Game\n      </button>\n    ) : null;\n\n  return (\n    <>\n      <h2>Add Game</h2>\n      <div className=\"Forms\">\n        <div>\n          <h4>Player 1</h4>\n          <form>\n            <select onChange={onSelect} value={player1}>\n              <option value=\"Player 1\" disabled>\n                Select a player\n              </option>\n              {players.map(({ id, name }) => (\n                <option key={id} value={id}>\n                  {name}\n                </option>\n              ))}\n            </select>\n            <label>\n              Score\n              <input\n                type=\"number\"\n                value={player1Score}\n                max={17}\n                min={0}\n                onChange={e => setPlayer1Score(Number(e.currentTarget.value))}\n              />\n            </label>\n          </form>\n        </div>\n        <div>\n          <h4>Player 2</h4>\n          <form>\n            <select onChange={onSelectPlayer2} value={player2}>\n              <option value=\"Player 2\" disabled>\n                Select a player\n              </option>\n              {players.map(({ id, name }) => {\n                return player1 !== id ? (\n                  <option key={id} value={id}>\n                    {name}\n                  </option>\n                ) : null;\n              })}\n            </select>\n            <label>\n              Score\n              <input\n                type=\"number\"\n                value={player2Score}\n                max={17}\n                min={0}\n                onChange={e => setPlayer2Score(Number(e.currentTarget.value))}\n              />\n            </label>\n          </form>\n        </div>\n      </div>\n      {button}\n    </>\n  );\n};\n\nexport default GameForm;\n","import { getAllGames, getLastNGames } from \"../../api/games\";\nimport { Games } from \"../../api/types\";\nimport { Dispatch } from \"redux\";\n\nexport const fetchAllGames = () => (dispatch: Dispatch) => {\n  getAllGames().then(games => {\n    dispatch(receiveAllGames(games));\n  })\n}\n\nexport const GAMES_RECEIVE_ALL = 'GAMES.RECEIVE_ALL'\n\nexport const receiveAllGames = (games: Games) => ({\n  type: GAMES_RECEIVE_ALL,\n  payload: games,\n});\n\nexport const fetchNGames = (n: number) => (dispatch: Dispatch) => {\n  getLastNGames(n).then(games => {\n    dispatch(receiveNGames(games))\n  })\n}\n\nexport const GAMES_RECEIVE_N_GAMES = 'GAMES.RECEIVE_N_GAMES'\n\nexport const receiveNGames = (games: Games) => ({\n  type: GAMES_RECEIVE_N_GAMES,\n  payload: games,\n});\n\n","import { connect } from \"react-redux\";\n\nimport GameForm, { DispatchProps, StateProps } from \"./GameForm\";\nimport { fetchAllGames } from \"../../data/actions/games\";\nimport { State } from \"../../data/types/state\";\nimport { arrayFromObject } from \"../../api/utils\";\nimport { fetchAllPlayers } from \"../../data/actions/players\";\n\nexport const mapStateToProps = (state: State): StateProps => ({\n  players: arrayFromObject(state.players.byId),\n  status: state.players.status,\n});\n\nexport const mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  onAddGame: () => dispatch(fetchAllGames()),\n  fetchAllPlayers: () => dispatch(fetchAllPlayers()),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(GameForm);\n","import React, { FC } from \"react\";\nimport { timeFromNow } from \"../../api/utils\";\n\nexport interface DateProps {\n  readonly date: string;\n}\n\nconst DateText: FC<DateProps> = ({ date }) => {\n  return (\n    <span\n      style={{\n        color: \"lightslategray\",\n        fontSize: \"12px\",\n        textTransform: \"uppercase\",\n        letterSpacing: \"0.1px\"\n      }}\n    >\n      {timeFromNow(date)}\n    </span>\n  );\n};\n\nexport default DateText;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { Game } from \"../../api/types\";\nimport PlayerName from \"../PlayerName\";\nimport GameForm from \"../GameForm\";\n\nimport \"./Games.css\";\nimport DateText from \"../DateText\";\nimport { STATUS } from \"../../data/types/state\";\n\nexport interface StateProps {\n  readonly games: Game[];\n  readonly status: string;\n}\n\nexport interface DispatchProps {\n  fetchAllGames(): void;\n}\n\nexport type GamesProps = StateProps & DispatchProps;\n\nfunction GamesPage(props: GamesProps) {\n  if (props.status === STATUS.NOT_REQUESTED) {\n    props.fetchAllGames();\n  }\n  \n  return (\n    <div className=\"Games\">\n      <h1>Games</h1>\n      <GameForm />\n      <h2>History</h2>\n      <ul>\n        {props.games.map((game: Game) => (\n          <li key={game.id} className=\"Game\">\n            <Link to={`/games/${game.id}`}>\n              <DateText date={game.time} />\n            </Link>\n            <div>\n              <PlayerName id={game.player1Id} />{\" \"}\n              <strong>{game.player1Score}</strong> vs{\" \"}\n              <strong>{game.player2Score}</strong>{\" \"}\n              <PlayerName id={game.player2Id} />\n            </div>\n            <div>\n              Winner:{\" \"}\n              <strong>\n                <PlayerName id={game.winnerId} />\n              </strong>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default GamesPage;\n","import { Game } from \"../../api/types\";\nimport { State } from \"../types/state\";\nimport { arrayFromObject } from \"../../api/utils\";\n\nconst lastNGames = (n: number) => (games: Game[]) => {\n  const sliced = games.slice(games.length - n, games.length);\n\n  return sliced.reverse();\n};\n\nexport const last12Games = (state: State) => {\n  const games = arrayFromObject(state.games.byId);\n  const last12 = lastNGames(12);\n\n  return last12(games);\n};\n","import { connect } from \"react-redux\";\n\nimport Games, { StateProps, DispatchProps } from \"./Games\";\nimport { fetchAllGames } from \"../../data/actions/games\";\nimport { State } from \"../../data/types/state\";\nimport { last12Games } from \"../../data/selectors/games\";\n\nexport const mapStateToProps = (state: State): StateProps => ({\n  games: last12Games(state),\n  status: state.games.status,\n});\n\nexport const mapDispatchToProps = (dispatch: any): DispatchProps => ({\n  fetchAllGames: () => dispatch(fetchAllGames())\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Games);\n","import React, { FC } from 'react';\nimport { Player, Game } from '../../api/types';\nimport { gamesBetweenPlayers } from '../../api/utils';\n\nexport interface WinRateProps {\n  readonly player1Id: Player['id'];\n  readonly player2Id: Player['id'];\n  readonly games: Game[];\n}\n\nconst WinRate: FC<WinRateProps> = ({ player1Id, player2Id, games }) => {\n  const gamesBetweenTwoPlayers = gamesBetweenPlayers(player1Id, player2Id, games);\n  const player1Wins = gamesBetweenTwoPlayers.filter(game => game.winnerId === player1Id);\n\n  return (\n    <span>{Math.round((player1Wins.length/gamesBetweenTwoPlayers.length) * 100)}% ({gamesBetweenTwoPlayers.length})</span>\n  );\n}\n\nexport default WinRate;","import React, { FC, useEffect, useState } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { getPlayerById } from \"../../api/players\";\nimport { Player, Game } from \"../../api/types\";\nimport { getAllGames } from \"../../api/games\";\nimport { arrayFromObject, gamesByPlayerId, playersPlayerPlayed } from \"../../api/utils\";\nimport PlayerName from \"../PlayerName\";\nimport DateText from \"../DateText\";\n\nimport \"./PlayerProfile.css\";\nimport { Link } from \"react-router-dom\";\nimport WinRate from \"../WinRate\";\n\ninterface PlayerProfileRouterProps {\n  readonly id: string;\n}\n\ninterface PlayerProfileProps\n  extends RouteComponentProps<PlayerProfileRouterProps> {}\n\n\nconst PlayerProfile: FC<PlayerProfileProps> = ({ match }) => {\n  const [info, setInfo] = useState<Player>({ id: \"\", name: \"\" });\n  const [allGamesPlayed, setAllGamesPlayed] = useState<Game[]>([]);\n  const [playersPlayed, setPlayersPlayed] = useState<Player['id'][]>([]);\n  const userId = match.params.id;\n\n  const fetchAllGames = async () => {\n    const response = await getAllGames();\n    const games = response ? response : [];\n    const sortedGames = arrayFromObject(games).reverse();\n\n    setAllGamesPlayed(sortedGames);\n  };\n\n  const fetchAllOpponents = async (player: Player, allGames: Game[]) => {\n    const opponentIds = await playersPlayerPlayed(player, allGames);\n    setPlayersPlayed(arrayFromObject(opponentIds));\n  }\n  \n  useEffect(() => {\n    fetchAllGames();\n    getPlayerById(userId).then(player => {\n      setInfo(player);\n      fetchAllOpponents(player, allGamesPlayed);\n    });\n  }, [userId, allGamesPlayed]);\n  \n  const gamesPlayed = gamesByPlayerId(allGamesPlayed, userId);\n\n  return (\n    <div className=\"PlayerProfile\">\n      <h1>{info.name}</h1>\n      <h2>Win Rates</h2>\n      <div>\n        {\n          playersPlayed.map(opponentId => (\n            <div className=\"opponent\">\n              <PlayerName id={opponentId} /> - <WinRate player1Id={userId} player2Id={opponentId} games={allGamesPlayed} />\n            </div>\n          ))\n        }\n      </div>\n      <h2>Games Played</h2>\n      <div className=\"PlayerGames\">\n        {gamesPlayed.map(game => (\n          <div className=\"PlayerGame\" key={game.id}>\n            <Link to={`/games/${game.id}`}>\n              <DateText date={game.time} />\n            </Link>\n            <div className=\"Content\">\n              <div className=\"opponent\">\n                Opponent:{\" \"}\n                {game.player1Id === userId ? (\n                  <PlayerName id={game.player2Id} />\n                ) : (\n                  <PlayerName id={game.player1Id} />\n                )}\n              </div>\n              <div className=\"score\">\n                {game.winnerId === userId ? `✅` : `❌`}\n                {game.player1Score} - {game.player2Score}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default PlayerProfile;\n","import React, { FC, useState, useEffect } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\n\nimport { Game } from \"../../api/types\";\nimport { getGameById, deleteGame } from \"../../api/games\";\nimport PlayerName from \"../PlayerName\";\n\nimport \"./Game.css\";\nimport { dateFormat } from \"../../api/utils\";\n\ninterface GameRouterProps {\n  readonly id: string;\n}\n\ninterface GameProps extends RouteComponentProps<GameRouterProps> {}\n\nconst GamePage: FC<GameProps> = ({ match, history }) => {\n  const gameId = match.params.id;\n  const [game, setGame] = useState<Game>();\n\n  useEffect(() => {\n    getGameById(gameId).then(game => {\n      setGame(game);\n    });\n  }, [gameId]);\n\n  if (!game) {\n    return null;\n  }\n\n  const removeGame = (gameId: string) => {\n    const verify = window.confirm('Delete Game?');\n\n    if (verify) {\n      deleteGame(gameId).then(() => {\n        history.push(\"/games\");\n      });\n    }\n  };\n\n  return (\n    <div className=\"Game\">\n      <h1>Game</h1>\n      <h4 style={{ marginBottom: 10 }}>\n        {dateFormat(game.time)}\n      </h4>\n      <div style={{ marginBottom: 20 }}>\n        <span className=\"remove\" onClick={() => removeGame(game.id)}>\n          Delete Game\n        </span>\n      </div>\n      <PlayerName id={game.player1Id} />\n      <h1>{game.player1Score}</h1>\n      <PlayerName id={game.player2Id} />\n      <h1>{game.player2Score}</h1>\n    </div>\n  );\n};\n\nexport default GamePage;\n","import React from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport Players from \"../Players\";\nimport Home from \"../Home\";\nimport Games from \"../Games\";\nimport PlayerProfile from \"../PlayerProfile\";\nimport Game from \"../Game\";\n\nfunction Routes() {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/players\" component={Players} />\n      <Route path=\"/players/:id\" component={PlayerProfile} />\n      <Route exact path=\"/games\" component={Games} />\n      <Route path=\"/games/:id\" component={Game} />\n      <Redirect to=\"/\" />\n    </Switch>\n  );\n}\n\nexport default Routes;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport './Header.css';\n\nfunction Header() {\n  return (\n    <nav className=\"Nav\">\n      <ul>\n        <li>\n          <Link to=\"/\">Home</Link>\n        </li>\n        <li>\n          <Link to=\"/games\">Games</Link>\n        </li>\n        <li>\n          <Link to=\"/players\">Players</Link>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default Header;\n","import { GAMES_RECEIVE_ALL, GAMES_RECEIVE_N_GAMES } from \"../actions/games\";\nimport { STATUS, State } from \"../types/state\";\n\nconst defaultState: State['games'] = {\n  status: STATUS.NOT_REQUESTED,\n  byId: {},\n};\n\ntype GamesActions = any;\n\nfunction GamesReducer(state = defaultState, action: GamesActions) {\n  switch(action.type) {\n    case GAMES_RECEIVE_N_GAMES:\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          ...action.payload,\n        },\n        status: STATUS.FULFILLED,\n      }\n    case GAMES_RECEIVE_ALL:\n      return {\n        ...state,\n        byId: {\n          ...action.payload,\n        },\n        status: STATUS.FULFILLED,\n      }\n    default:\n      return state;\n  }\n}\n\nexport default GamesReducer;","import { STATUS, State } from \"../types/state\";\nimport { PLAYERS_RECEIVE_ALL } from \"../actions/players\";\n\nconst defaultState: State['players'] = {\n  status: STATUS.NOT_REQUESTED,\n  byId: {},\n};\n\ntype PlayersActions = any;\n\nfunction PlayersReducer(state = defaultState, action: PlayersActions) {\n  switch(action.type) {\n    case PLAYERS_RECEIVE_ALL:\n      return {\n        ...state,\n        byId: {\n          ...action.payload,\n        },\n        status: STATUS.FULFILLED,\n      }\n    default:\n      return state;\n  }\n}\n\nexport default PlayersReducer;","import { combineReducers } from 'redux'\n\nimport games from './games';\nimport players from './players';\n\nconst rootReducer = combineReducers({\n  games,\n  players,\n})\n\nexport default rootReducer;","import React from \"react\";\n\nimport \"./App.css\";\nimport Routes from \"./components/Routes\";\nimport Header from \"./components/Header\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Provider } from 'react-redux'\n\nimport configureStore from \"./data/store/configureStore\";\n\nconst store = configureStore({});\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <Router basename={process.env.PUBLIC_URL}>\n        <div className=\"App\">\n          <Header />\n          <Routes />\n        </div>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport rootReducer from '../reducers'\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst configureStore = (preloadedState: any) => createStore(\n  rootReducer,\n  preloadedState,\n  composeWithDevTools(applyMiddleware(thunk)),\n)\n\nexport default configureStore","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and players)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}