{"version":3,"sources":["lib/firebase/index.js","api/players.ts","api/utils.ts","components/Players/Players.tsx","components/Home/Home.tsx","api/games.ts","components/PlayerName/usePlayerName.ts","components/PlayerName/PlayerName.tsx","components/Games/Games.tsx","components/PlayerProfile/PlayerProfile.tsx","components/Game/Game.tsx","components/Routes/Routes.tsx","components/Header/Header.tsx","App.tsx","serviceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getAllPlayers","database","ref","once","then","snapshot","val","getPlayerById","id","concat","addPlayer","_ref","name","push","set","key","arrayFromObject","obj","Object","keys","map","timeFromNow","time","date","Date","moment","startOf","fromNow","Players","_useState","useState","_useState2","slicedToArray","players","setPlayers","_useState3","_useState4","input","setInput","fetchAllPlayers","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","stop","apply","this","arguments","useEffect","react_default","createElement","className","value","onChange","event","currentTarget","placeholder","onClick","_ref2","react_router_dom","to","Home","getAllGames","addGame","player1Id","player2Id","player1Score","player2Score","winnerId","ServerValue","TIMESTAMP","deleteGame","gameId","remove","usePlayerName","setName","player","PlayerName","Games","games","setGames","_useState5","_useState6","player1","setPlayer1","_useState7","_useState8","player2","setPlayer2","_useState9","_useState10","setPlayer1Score","fetchAllGames","_callee2","response","_context2","e","disabled","_ref3","type","max","min","Number","_ref4","game","components_PlayerName_PlayerName","PlayerProfile","match","info","setInfo","allGamesPlayed","setAllGamesPlayed","userId","params","gamesPlayed","filter","GamePage","setGame","Routes","react_router","exact","path","component","Game","Header","App","basename","process","Header_Header","Routes_Routes","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4d49d8c5.chunk.js","sourcesContent":["import firebase from 'firebase/app';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAyIdR5rJ6p-JX5BVMeoksBURFgAs5mD5U\",\n  authDomain: \"pool-party-app.firebaseapp.com\",\n  databaseURL: \"https://pool-party-app.firebaseio.com\",\n  projectId: \"pool-party-app\",\n  storageBucket: \"pool-party-app.appspot.com\",\n  messagingSenderId: \"875916367186\",\n  appId: \"1:875916367186:web:71a4c5d40ff62bda\"\n};\n\nexport default firebase.initializeApp(firebaseConfig);","import firebase from '../lib/firebase';\n\nexport const getAllPlayers = () => {\n  return firebase\n    .database()\n    .ref('players')\n    .once('value')\n    .then(snapshot => snapshot.val());\n}\n\nexport const getPlayerById = (id: string) => {\n  return firebase\n    .database()\n    .ref(`players/${id}`)\n    .once('value')\n    .then(snapshot => snapshot.val());\n}\n\ntype AddPlayer = (playerInfo: {name: string}) => Promise<any>;\nexport const addPlayer: AddPlayer = ({ name }) => {\n  const ref = firebase\n    .database()\n    .ref('players/')\n    .push();\n\n  return ref.set({\n    id: ref.key,\n    name,\n  });\n}","import { Game, Player } from \"./types\";\nimport moment from 'moment';\n\ninterface Obj {\n  [key: string]: any;\n}\n\nexport const arrayFromObject = (obj: Obj) =>\n  Object.keys(obj).map(key => obj[key]);\n\ntype GamesByPlayerId = (games: Game[], id: Player[\"id\"]) => Game[];\n\nexport const gamesByPlayerId: GamesByPlayerId = (games, id) =>\n  games.filter(game => game.player1Id === id || game.player2Id === id);\n\nexport const timeFromNow = (time: string) => {\n  const date = new Date(time);\n  const momentFormat = moment(date);\n\n  return momentFormat.startOf().fromNow();\n}","import React, { useState, useEffect } from \"react\";\n\nimport { getAllPlayers, addPlayer } from \"../../api/players\";\nimport { arrayFromObject } from \"../../api/utils\";\nimport { Player } from \"../../api/types\";\nimport { Link } from \"react-router-dom\";\n\nfunction Players() {\n  const [players, setPlayers] = useState<Player[]>([]);\n  const [input, setInput] = useState(\"\");\n\n  const fetchAllPlayers = async () => {\n    const players = await getAllPlayers();\n    setPlayers(arrayFromObject(players));\n  }\n\n  useEffect(() => {\n    fetchAllPlayers();\n  }, []);\n\n  const onInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setInput(event.currentTarget.value);\n  };\n\n  const submit = () => {\n    addPlayer({ name: input }).then(() => {\n      fetchAllPlayers();\n    });\n    setInput(\"\");\n  };\n\n  return (\n    <div className=\"Players\">\n      <h1>Players</h1>\n      <input\n        name=\"name\"\n        value={input}\n        onChange={onInputChange}\n        placeholder=\"Player name\"\n      />\n      <button onClick={submit}>Add Player</button>\n      <ul>\n        {players.map(({id, name}) => (\n          <li key={id}>\n            <Link to={`/players/${id}`}>{name}</Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Players;\n","import React from 'react';\n\nfunction Home() {\n  return <h1>Home</h1>\n}\n\nexport default Home;","import { database } from 'firebase';\nimport firebase from \"../lib/firebase\";\nimport { Game } from \"./types\";\nimport { Omit } from \"yargs\";\n\nexport const getAllGames = () => {\n  return firebase\n    .database()\n    .ref(\"games\")\n    .once(\"value\")\n    .then(snapshot => snapshot.val());\n};\n\nexport const getGameById = (id: string) => {\n  return firebase\n    .database()\n    .ref(`games/${id}`)\n    .once(\"value\")\n    .then(snapshot => snapshot.val());\n};\n\nexport type AddGame = (game: Omit<Game, 'id' | 'time'>) => Promise<any>;\nexport const addGame: AddGame = ({\n  player1Id,\n  player2Id,\n  player1Score,\n  player2Score,\n  winnerId\n}) => {\n  const ref = firebase\n    .database()\n    .ref(\"games/\")\n    .push();\n\n  return ref.set({\n    time: database.ServerValue.TIMESTAMP,\n    id: ref.key,\n    player1Id,\n    player2Id,\n    player1Score,\n    player2Score,\n    winnerId\n  });\n};\n\nexport const deleteGame = (gameId: string) => {\n  const ref = firebase.database().ref(`games/${gameId}`);\n  \n  return ref.remove();\n}\n","import { useState, useEffect } from \"react\";\nimport { getPlayerById } from \"../../api/players\";\n\n\nfunction usePlayerName(id: string) {\n  const [name, setName] = useState('');\n\n  useEffect(() => {\n    getPlayerById(id).then(player => {\n      setName(player.name);\n    })\n  }, [id])\n\n  return name\n}\n\nexport default usePlayerName;\n","import React, { FC } from 'react';\nimport usePlayerName from './usePlayerName';\nimport { Link } from 'react-router-dom';\n\nexport interface PlayerNameProps {\n  readonly id: string;\n}\n\nconst PlayerName: FC<PlayerNameProps> = ({ id }) => {\n  const name = usePlayerName(id);\n\n  return  <Link to={`/players/${id}`}>{name}</Link>;\n}\n\nexport default PlayerName;","import React, { useState, useEffect } from \"react\";\n\nimport { Game, Player } from \"../../api/types\";\nimport { getAllPlayers } from \"../../api/players\";\nimport { arrayFromObject } from \"../../api/utils\";\nimport { getAllGames, addGame, deleteGame } from \"../../api/games\";\nimport PlayerName from \"../PlayerName\";\n\nimport \"./Games.css\";\nimport { Link } from \"react-router-dom\";\n\nfunction Games() {\n  const [players, setPlayers] = useState<Player[]>([]);\n  const [games, setGames] = useState<Game[]>([]);\n  const [player1, setPlayer1] = useState(\"Player 1\");\n  const [player2, setPlayer2] = useState(\"Player 2\");\n  const [player1Score, setPlayer1Score] = useState(0);\n\n  const fetchAllPlayers = async () => {\n    const players = await getAllPlayers();\n\n    setPlayers(arrayFromObject(players));\n  };\n\n  const fetchAllGames = async () => {\n    const response = await getAllGames();\n    const games = response ? response : [];\n\n    setGames(arrayFromObject(games));\n  };\n\n  useEffect(() => {\n    fetchAllPlayers();\n    fetchAllGames();\n  }, []);\n\n  const onSelect = (e: React.SyntheticEvent<HTMLSelectElement, Event>) => {\n    setPlayer1(e.currentTarget.value);\n  };\n\n  const onSelectPlayer2 = (\n    e: React.SyntheticEvent<HTMLSelectElement, Event>\n  ) => {\n    setPlayer2(e.currentTarget.value);\n  };\n\n  const onSubmitGame = () => {\n    const player2Score = 17 - player1Score;\n    const winnerId = player1Score > player2Score ? player1 : player2;\n\n    addGame({\n      player1Id: player1,\n      player2Id: player2,\n      player1Score,\n      player2Score,\n      winnerId\n    });\n\n    setPlayer1Score(0);\n    setPlayer1(\"Player 1\");\n    setPlayer2(\"Player 2\");\n\n    fetchAllGames();\n  };\n\n  const removeGame = (gameId: string) => {\n    deleteGame(gameId).then(() => {\n      fetchAllGames();\n    });\n  };\n\n  return (\n    <div className=\"Games\">\n      <h1>Games</h1>\n\n      <h2>Add Game</h2>\n      <h4>Player 1</h4>\n      <form>\n        <select onChange={onSelect} value={player1}>\n          <option value=\"Player 1\" disabled>\n            Select a player\n          </option>\n          {players.map(({ id, name }) => (\n            <option key={id} value={id}>\n              {name}\n            </option>\n          ))}\n        </select>\n        <label>\n          Score\n          <input\n            type=\"number\"\n            value={player1Score}\n            max={17}\n            min={0}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n              setPlayer1Score(Number(e.currentTarget.value))\n            }\n          />\n        </label>\n      </form>\n\n      <h4>Player 2</h4>\n      <form>\n        <select onChange={onSelectPlayer2} value={player2}>\n          <option value=\"Player 2\" disabled>\n            Select a player\n          </option>\n          {players.map(({ id, name }) => {\n            return player1 !== id ? (\n              <option key={id} value={id}>\n                {name}\n              </option>\n            ) : null;\n          })}\n        </select>\n        Score: {17 - player1Score}\n      </form>\n\n      <button onClick={onSubmitGame}>Add Game</button>\n      <h2>History</h2>\n      <ol>\n        {games.map(game => (\n          <li className=\"Game\">\n            <Link to={`/games/${game.id}`}>\n            Link to game\n            </Link>\n              <div>\n                <PlayerName id={game.player1Id} />{\" \"}\n                <strong>{game.player1Score}</strong> vs{\" \"}\n                <strong>{game.player2Score}</strong>{\" \"}\n                <PlayerName id={game.player2Id} />\n              </div>\n              <div>\n                Winner:{\" \"}\n                <strong>\n                  <PlayerName id={game.winnerId} />\n                </strong>\n              </div>\n              <div>\n                <span className=\"remove\" onClick={() => removeGame(game.id)}>\n                  Remove X\n                </span>\n              </div>\n          </li>\n        ))}\n      </ol>\n    </div>\n  );\n}\n\nexport default Games;\n","import React, { FC, useEffect, useState } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { getPlayerById } from \"../../api/players\";\nimport { Player, Game } from \"../../api/types\";\nimport { getAllGames } from \"../../api/games\";\nimport { arrayFromObject, gamesByPlayerId, timeFromNow } from \"../../api/utils\";\nimport PlayerName from \"../PlayerName\";\n\ninterface PlayerProfileRouterProps {\n  readonly id: string;\n}\n\ninterface PlayerProfileProps\n  extends RouteComponentProps<PlayerProfileRouterProps> {}\n\nconst PlayerProfile: FC<PlayerProfileProps> = ({ match }) => {\n  const [info, setInfo] = useState<Player>({ id: \"\", name: \"\" });\n  const [allGamesPlayed, setAllGamesPlayed] = useState<Game[]>([]);\n  const userId = match.params.id;\n\n  const fetchAllGames = async () => {\n    const response = await getAllGames();\n    const games = response ? response : [];\n\n    setAllGamesPlayed(arrayFromObject(games));\n  };\n\n  useEffect(() => {\n    fetchAllGames();\n    getPlayerById(userId).then(player => {\n      setInfo(player);\n    });\n  }, [userId]);\n\n  const gamesPlayed = gamesByPlayerId(allGamesPlayed, userId);\n  return (\n    <div className=\"PlayerProfile\">\n      <h1>{info.name}</h1>\n      <h2>Games Played</h2>\n      {gamesPlayed.map(game => (\n        <div key={game.id}>\n          <div>{timeFromNow(game.time)}</div>\n          <div>\n            Opponent:{\" \"}\n            {game.player1Id === userId ? (\n              <PlayerName id={game.player2Id} />\n            ) : (\n              <PlayerName id={game.player1Id} />\n            )}\n          </div>\n          {game.winnerId === userId ? `✅` : `❌`}\n          {game.player1Score} - {game.player2Score}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default PlayerProfile;\n","import React, { FC, useState, useEffect } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport { Game } from \"../../api/types\";\nimport { getGameById } from \"../../api/games\";\nimport PlayerName from \"../PlayerName\";\nimport { timeFromNow } from \"../../api/utils\";\n\ninterface GameRouterProps {\n  readonly id: string;\n}\n\ninterface GameProps extends RouteComponentProps<GameRouterProps> {}\n\nconst GamePage: FC<GameProps> = ({ match }) => {\n  const gameId = match.params.id;\n  const [game, setGame] = useState<Game>();\n\n  useEffect(() => {\n    getGameById(gameId).then(game => {\n      setGame(game);\n    });\n  }, [gameId]);\n\n  if (!game) {\n    return null;\n  }\n\n  return (\n    <div className=\"Game\">\n      <h1>Game</h1>\n      <h4>{timeFromNow(game.time)}</h4>\n      <h4>Winner: <PlayerName id={game.winnerId} /></h4>\n      <PlayerName id={game.player1Id} />\n      <h1>{game.player1Score}</h1>\n      <PlayerName id={game.player2Id} />\n      <h1>{game.player2Score}</h1>\n    </div>\n  );\n};\n\nexport default GamePage;\n","import React from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport Players from \"../Players\";\nimport Home from \"../Home\";\nimport Games from \"../Games\";\nimport PlayerProfile from \"../PlayerProfile\";\nimport Game from \"../Game\";\n\nfunction Routes() {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/players\" component={Players} />\n      <Route path=\"/players/:id\" component={PlayerProfile} />\n      <Route exact path=\"/games\" component={Games} />\n      <Route path=\"/games/:id\" component={Game} />\n      <Redirect to=\"/\" />\n    </Switch>\n  );\n}\n\nexport default Routes;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header() {\n  return (\n    <nav>\n      <ul>\n        <li>\n          <Link to=\"/\">Home</Link>\n        </li>\n        <li>\n          <Link to=\"/games\">Games</Link>\n        </li>\n        <li>\n          <Link to=\"/players\">Players</Link>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nimport \"./App.css\";\nimport Routes from \"./components/Routes\";\nimport Header from \"./components/Header\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        <Header />\n      </div>\n      <Routes />\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and players)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}